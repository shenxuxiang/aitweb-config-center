"use strict";(self.webpackChunkaitweb_config_center=self.webpackChunkaitweb_config_center||[]).push([[757],{77681:function(e,t,n){n.r(t),n.d(t,{default:function(){return Z}});var a=n(95266),i=n(24278),r=n.n(i),o=n(39022),c=n.n(o),u=(n(41539),n(54747),n(88674),n(17727),n(67294)),l=n(86706),s=n(14890),d=n(6081),m=n(84538),p=n(84707),f=n(26580),g=n(44845),v=n(97606),h=n.n(v),_=(n(57658),n(30541),n(9653),n(74916),n(77601),n(94184)),b=n.n(_),y=n(18004),x=n(36606),E={ait_pagination:"src-components-Pagination-index-module-ait_pagination-W62Ro",ait_pagination_item:"src-components-Pagination-index-module-ait_pagination_item-Qgrzf",active:"src-components-Pagination-index-module-active-sp_yz",dot:"src-components-Pagination-index-module-dot-rQem_",next:"src-components-Pagination-index-module-next-cFjOs",disabled:"src-components-Pagination-index-module-disabled-TlMxq",prev:"src-components-Pagination-index-module-prev-YCRqV",ait_pagination_item_jump:"src-components-Pagination-index-module-ait_pagination_item_jump-SKGWz",ait_pagination_item_jump_input:"src-components-Pagination-index-module-ait_pagination_item_jump_input-SeGBd"};function k(e){var t=e.pageSize,n=e.pageNum,i=e.total,r=e.onChange,o=e.disabled,c=e.className,l=void 0===c?"":c,s=e.jump,d=(0,u.useState)([]),m=(0,a.Z)(d,2),p=m[0],f=m[1],v=(0,u.useRef)(Math.ceil(i/t));(0,u.useLayoutEffect)((function(){var e=Math.ceil(i/t);v.current=e;var a=[];if(e<=7)for(var r=1;r<=e;r++)a.push({isActive:r===n,counter:r});else if(n<=3)for(var o=1;o<=7;o++)o<=5?a.push({counter:o,isActive:o===n}):6===o?a.push({counter:"forward",isActive:!1}):a.push({counter:e,isActive:!1});else if(n+3>e)for(var c=6;c>=0;c--)6===c?a.push({counter:1,isActive:!1}):5===c?a.push({counter:"back",isActive:!1}):a.push({counter:e-c,isActive:e-c===n});else{a.push({counter:n,isActive:!0});for(var u=1;u<=4;u++)n-u>0&&(u<=2?a.unshift({counter:n-u,isActive:!1}):3===u&&n-u>1?a.unshift({counter:"back",isActive:!1}):a.unshift({counter:1,isActive:!1})),n+u<=e&&(u<=2?a.push({counter:n+u,isActive:!1}):3===u&&n+u<e?a.push({counter:"forward",isActive:!1}):a.push({counter:e,isActive:!1}))}f((function(){return a}))}),[i,t,n]);return i<=0?null:u.createElement("ul",{className:b()(E.ait_pagination,(0,g.Z)({},l,!!l)),onClick:function(e){var t=e.target,a=n;if("true"!==t.getAttribute("data-disabled"))if(t.matches("li.".concat(E.prev))){if(1===n)return;r(n-1)}else if(t.matches("li.".concat(E.next))){if(n===v.current)return;r(n+1)}else if(t.matches("li.".concat(E.dot))){a="forward"===t.getAttribute("data-role")?(a+=5)>=v.current?v.current:a:(a-=5)<=1?1:a,r(a)}else t.matches("li.".concat(E.ait_pagination_item))&&(a=Number(t.getAttribute("data-index")),r(a))}},u.createElement("li",{title:"上一页","data-disabled":o?"true":"false",className:b()(E.ait_pagination_item,E.prev,(0,g.Z)({},E.disabled,1===n))},"<"),h()(p).call(p,(function(e,t){return"string"==typeof e.counter?u.createElement("li",{key:t,"data-disabled":o?"true":"false",className:b()(E.ait_pagination_item,E.dot,(0,g.Z)({},E.active,e.isActive)),"data-role":e.counter,title:"向".concat("forward"===e.counter?"前":"后","5页")},"•••",u.createElement("span",null,u.createElement(y.Z,{name:"back"===e.counter?"houtui":"qianjin",className:E.pagination_jump_icon}))):u.createElement("li",{key:t,"data-index":e.counter,"data-disabled":o?"true":"false",className:b()(E.ait_pagination_item,(0,g.Z)({},E.active,e.isActive))},e.counter)})),u.createElement("li",{title:"下一页","data-disabled":o?"true":"false",className:b()(E.ait_pagination_item,E.next,(0,g.Z)({},E.disabled,n===v.current))},">"),s?u.createElement("li",{"data-disabled":o?"true":"false",className:E.ait_pagination_item_jump},"跳至",u.createElement(x.Z,{type:"text",className:E.ait_pagination_item_jump_input,disabled:o,onKeyUp:function(e){if(13===e.keyCode){var t=e.target.value;/^-?\d+$/.test(t)&&(t>v.current?t=v.current:t<1&&(t=1),r(Number(t))),e.target.value=""}}}),"页"):null)}var N=(0,u.memo)(k),C={page:"src-pages-manage-record-index-module-page-qsDrS",page_title:"src-pages-manage-record-index-module-page_title-7Cskc",ellipsis:"src-pages-manage-record-index-module-ellipsis-xcKBj",pagination:"src-pages-manage-record-index-module-pagination-ONwm4"},w=n(29074),A={loading:!0,dataSource:[],total:0,pageSize:10,pageNum:1,searchCondition:""};function S(e){var t=(0,m.Z)(A),n=(0,a.Z)(t,2),i=n[0],o=n[1],l=i.loading,s=i.pageSize,p=i.pageNum,g=i.searchCondition,v=i.total,h=i.dataSource,_=e.querySyllabus,b=(0,u.useMemo)((function(){return[{dataIndex:"course",title:"搜索条件",width:150},{dataIndex:"title",title:"课程名称",width:150},{dataIndex:"modules",title:"所含模块",width:300,render:function(e){var t="";return e.forEach((function(e){return t+="".concat(e.title,"+")})),r()(t).call(t,0,-1)}},{dataIndex:"introduce",title:"内容介绍",render:function(e){return u.createElement("div",{className:C.ellipsis},e)}},{dataIndex:"_id",title:"操作",width:200,render:function(e){return u.createElement("div",{className:C.operation},u.createElement(f.Z,{type:"link",onClick:function(){return E(e,1)}},"编辑"),u.createElement(f.Z,{type:"link",onClick:function(){return E(e,2)}},"查看"),u.createElement(f.Z,{type:"link",onClick:function(){return y(e)}},"删除"))}}]}),[]),y=function(e){w.Z.warn({title:"删除数据",content:"数据一旦删除成功就无法回复，确定删除吗？",okText:"确定",showCancel:!0,cancelText:"取消",onOk:function(){console.log(e)}})},E=function(t,n){var a;e.navigator(c()(a="/manage/permission?state=".concat(n,"&taskId=")).call(a,t))},k=(0,u.useCallback)((function(e,t,n){var a=void 0===t?i.pageNum:t,r=void 0===e?i.pageSize:e,c=void 0===n?i.searchCondition:n;o({loading:!0}),_({pageNum:a,pageSize:r,course:c}).then((function(e){var t=e||{},n=t.data;if(0===t.code){var a=n.list,i=n.pageNum,r=n.total;o((function(){return{dataSource:a,total:r,pageNum:i}}))}})).catch((function(e){return console.log(e)})).finally((function(){return o({loading:!1})}))}),[s,p,g]),S=(0,u.useCallback)((function(e){k(s,e,g)}),[s,g]),Z=(0,u.useCallback)((function(e){o({searchCondition:e.target.value})}),[]),j=(0,u.useCallback)((function(){k(s,1,g)}),[s,g]);return(0,u.useLayoutEffect)(k,[]),u.createElement("div",{className:C.page},u.createElement("h1",{className:C.page_title},"课程大纲"),u.createElement("div",null,u.createElement(x.Z.Search,{placeholder:"输入要查询的课程名称",value:g,onChange:Z,onSearch:j,width:300})),u.createElement(d.Z,{style:{marginTop:20},columns:b,dataSource:h,loading:l,rowKey:"_id"}),u.createElement(N,{pageSize:s,pageNum:p,total:v,onChange:S,className:C.pagination}))}var Z=(0,l.$j)((function(e){return e.manageRecord}),(function(e){return(0,s.DE)(p.Z,e)}))((0,u.memo)(S))},85117:function(e,t,n){var a=n(66330),i=TypeError;e.exports=function(e,t){if(!delete e[t])throw i("Cannot delete property "+a(t)+" of "+a(e))}},30541:function(e,t,n){var a=n(82109),i=n(47908),r=n(26244),o=n(83658),c=n(85117),u=n(7207),l=1!==[].unshift(0),s=!function(){try{Object.defineProperty([],"length",{writable:!1}).unshift()}catch(e){return e instanceof TypeError}}();a({target:"Array",proto:!0,arity:1,forced:l||s},{unshift:function(e){var t=i(this),n=r(t),a=arguments.length;if(a){u(n+a);for(var l=n;l--;){var s=l+a;l in t?t[s]=t[l]:c(t,s)}for(var d=0;d<a;d++)t[d]=arguments[d]}return o(t,n+a)}})},17727:function(e,t,n){var a=n(82109),i=n(31913),r=n(2492),o=n(47293),c=n(35005),u=n(60614),l=n(36707),s=n(69478),d=n(98052),m=r&&r.prototype;if(a({target:"Promise",proto:!0,real:!0,forced:!!r&&o((function(){m.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=l(this,c("Promise")),n=u(e);return this.then(n?function(n){return s(t,e()).then((function(){return n}))}:e,n?function(n){return s(t,e()).then((function(){throw n}))}:e)}}),!i&&u(r)){var p=c("Promise").prototype.finally;m.finally!==p&&d(m,"finally",p,{unsafe:!0})}}}]);